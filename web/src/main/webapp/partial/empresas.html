<!DOCTYPE html>
<div ng-controller="ctrlEmpresas">


<div class="panel panel-default">
  <div class="panel-body">
	<label class="control-label col-sm-2">Lista</label>
	<div class="col-sm-8">
		<input type="radio" name="filtro" ng-click="filtrar(true)" checked></input> <span>Somente ativas</span> &nbsp;
		<input type="radio" name="filtro" ng-click="filtrar(false)"></input> <span>Todos</span>
	</div>
  </div>
</div>
				
<div style="overflow-y: scroll; height:30em;">				
<table class="table table-striped">
<thead>
<tr>
	<th>Nome</th>
	<th>Tipo</th>
	<th style="width: 5%;">&nbsp;</th>
</tr>
</thead>
<tr ng-repeat="item in empresas">
	<td>{{item.nome}}</td>
	<td>{{item.tipo}}</td>
	
	<td>
		<button class="btn btn-default" value="Alterar" data-toggle="modal" data-target="#myModal" ng-click="abrir(item.id)">
			<span class="glyphicon glyphicon-file" aria-hidden="true"></span>
		</button>
	</td>	
</tr>
</table>
</div>

<br/>

<div>
	<button class="btn btn-default" value="Nova" data-toggle="modal" data-target="#myModal" ng-click="nova()">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			Adicionar...
	</button>
</div>


<div id="myModal" class="modal" role="dialog">
	<div class="modal-content modal-lg" style="margin:0 auto; top:5em;">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">&times;</button>
			<h4 class="modal-title">Empresa</h4>
		</div>
		<div class="modal-body">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="control-label col-sm-2">Nome</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" value="" ng-model="Empresa.nome"/>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Tipo</label>
					<div class="col-sm-4">
						<select class="form-control" ng-model="Empresa.tipo" ng-options="g.key as g.val for g in opcoesTipoEmpresa"></select> 
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Funda&ccedil;&atilde;o</label>
					<div class="col-sm-4">
						<input type="text" class="form-control" value="" ng-model="Empresa.dataFundacao"/>
					</div>
				</div>
				<div>
					<label class="control-label col-sm-2" style="padding-top:0;">Funcion&aacute;rios</label>
					<table style="width: 50%;">
					<tr ng-repeat="funcionario in Empresa.empregados">
						<td>{{funcionario.nome}}</td>
						<td>{{funcionario.sobrenome}}</td>
					</tr>
					</table>
				</div>
			</form>
		</div>			
		<div class="modal-footer">
			<div>
				<button type="submit" class="btn btn-default" value="Salvar" ng-click="salvar()" data-dismiss="modal">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
					Salvar
				</button>
				<button type="submit" class="btn btn-default" value="Excluir" ng-click="excluir()" data-dismiss="modal">
					<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
					Excluir
				</button>
				<button type="button" class="btn btn-default" value="Cancelar" data-dismiss="modal">
					<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
					Cancelar
				</button>
			</div>
		</div>
	</div>
</div>

</div>